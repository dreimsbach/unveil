/**
 * jQuery Unveil
 * A very lightweight jQuery plugin to lazy load images
 * http://luis-almeida.github.com/unveil
 *
 * Licensed under the MIT license.
 * Copyright 2013 LuÃ­s Almeida
 * https://github.com/luis-almeida
 *
 * Modified: Added a callback function
 * Copyright 2013 Dirk Reimsbach
 * https://github.com/dreimsbach
 */

;(function(e){e.fn.unveil=function(t){function l(){a=o.filter(function(){var t=e(this),i=n.scrollTop(),s=i+n.height(),o=t.offset().top,u=o+t.height();return u>=i-r&&o<=s+r});u=a.trigger("unveil");o=o.not(u)}var n=e(window),t=t||{},r=t.threshold||0,i=window.devicePixelRatio>1,s=i?"data-src-retina":"data-src",o=this,u,a,f;this.one("unveil",function(){f=this.getAttribute(s);f=f||this.getAttribute("data-src");if(f){this.setAttribute("src",f);if(typeof t.callback==="function")t.callback.apply(this)}});n.scroll(l);n.resize(l);l();return this}})(window.jQuery||window.Zepto);
